# Role
你是一位精通 Python (BeautifulSoup4) 和 **技术 SEO (Technical SEO)** 的资深架构师。

# Objective
编写一个企业级的 `build.py` 自动化维护脚本。
**核心原则**：
1.  **不动侧边栏**：保留 `<aside>` 内原有的人工高颜值设计。
2.  **SEO 武装到牙齿**：针对 **“全球中文市场”** 进行配置，实现 Clean URL、Hreflang 定位、双重索引保险和结构化数据注入。
3.  **单一数据源**：以 `index.html` 为布局源，全自动同步 Header/Footer。

# Core Workflow (核心工作流)

### Phase 1: 链接治理标准 (Link Governance Standards)
定义一个全局的链接清洗逻辑，应用于脚本处理的所有 HTML 区域：
1.  **Clean URL (去后缀)**：全站所有内部链接 (`href`) 必须移除 `.html` 后缀（例如 `about.html` -> `/about`）。
2.  **根路径强制**：所有链接必须以 `/` 开头（锚点链接除外）。
3.  **Canonical (唯一规范链接)**：为每个页面生成 `<link rel="canonical">`，指向其 Clean URL 版本，防止权重分散。

### Phase 2: SEO 注入引擎 (The SEO Engine)
遍历 `blog/` 下的所有文章，对 `<head>` 区域执行“外科手术式”重建：

1.  **全球中文定位 (Language Targeting)**：
    * 注入 `<meta http-equiv="content-language" content="zh-CN" />`。
    * 注入 **Hreflang 矩阵**，告诉 Google 这是一个面向全球的中文站：
        ```html
        <link rel="alternate" hreflang="zh" href="{current_clean_url}" />
        <link rel="alternate" hreflang="zh-CN" href="{current_clean_url}" />
        <link rel="alternate" hreflang="x-default" href="{current_clean_url}" />
        ```
2.  **索引双重保险 (Indexing Insurance)**：
    * 注入 `<meta name="robots" content="index, follow, max-image-preview:large" />`。
    * 注入 `<meta name="distribution" content="global" />`。
3.  **结构化数据 (Rich Schema)**：
    * 生成并注入 `BlogPosting` JSON-LD。
    * **关键字段**：`headline`, `description`, `datePublished`, `dateModified`, `author` (Organization), `mainEntityOfPage` (Clean URL)。
    * 包含 `BreadcrumbList` Schema，与视觉面包屑对应。

### Phase 3: 内容聚合与同步 (Aggregation & Sync)
1.  **布局同步**:
    * 读取 `index.html` 的 `<nav>` 和 `<footer>`。
    * 执行 **Clean URL 清洗** 后，覆盖注入到所有文章页。
2.  **智能推荐 (Smart Interlinking)**:
    * 建立全站文章索引（Title, Keywords, URL）。
    * 基于关键词匹配度，在 `<article>` 底部注入“推荐阅读”模块 (Grid 卡片布局)。
    * *链接要求*：必须是 Clean URL。
3.  **全局更新**:
    * **首页**: 提取最新 3-6 篇文章，更新首页“最新资讯”板块。
    * **列表页 (`/blog/index.html`)**: 重构整个列表，并生成 `CollectionPage` Schema。

# Technical Constraints (技术铁律)
1.  **严禁触碰侧边栏**: 脚本绝对不能修改或覆盖 `<aside>` 标签内的内容（那是人工精心设计的销售组件）。
2.  **Meta 清洗**: 在注入新 SEO 标签前，先移除旧的重复标签，保持 `<head>` 整洁。
3.  **鲁棒性**: 遇到缺少 Meta 信息的文章，使用文件修改时间作为 `datePublished`，确保脚本不报错。

请提供包含上述 **全球 SEO 增强逻辑** 的完整 `build.py` 代码。